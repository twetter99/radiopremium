<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="RadioPremium.App.Views.MiniPlayerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Radio Premium - Mini">

    <Grid x:Name="RootGrid" Background="#1E1E1E">
        <!-- Main drag area covering entire window -->
        <Border x:Name="DragRegion" Background="Transparent"/>
        
        <!-- Content overlay -->
        <Grid Padding="16,12,16,16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Row 0: Station Info + Expand Button -->
            <Grid Grid.Row="0" Margin="0,0,0,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Spacing="2" Margin="0,0,8,0">
                    <TextBlock x:Name="StationName"
                              Text="Selecciona una emisora"
                              Foreground="White"
                              FontSize="15"
                              FontWeight="SemiBold"
                              TextTrimming="CharacterEllipsis"/>
                    <TextBlock x:Name="StationCountry"
                              Text=""
                              Foreground="#B3B3B3"
                              FontSize="12"/>
                </StackPanel>

                <Button Grid.Column="1"
                        Click="Expand_Click"
                        Width="32" Height="32"
                        Background="#2A2A2A"
                        BorderThickness="0"
                        CornerRadius="16"
                        Padding="0"
                        VerticalAlignment="Center"
                        ToolTipService.ToolTip="Expandir ventana principal">
                    <FontIcon Glyph="&#xE740;" FontSize="14" Foreground="#B3B3B3"/>
                </Button>
            </Grid>

            <!-- Row 1: Play/Pause + Identify + Favorite -->
            <StackPanel Grid.Row="1" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Center"
                        Spacing="12"
                        Margin="0,0,0,16">
                
                <!-- Play/Pause -->
                <Button Click="PlayPause_Click"
                        Width="48" Height="48"
                        Background="White"
                        BorderThickness="0"
                        CornerRadius="24"
                        Padding="0"
                        ToolTipService.ToolTip="Reproducir/Pausar">
                    <FontIcon x:Name="PlayPauseIcon"
                              Glyph="&#xE768;"
                              FontSize="20"
                              Foreground="Black"/>
                </Button>

                <!-- Identify Button -->
                <Button Click="Identify_Click"
                        Height="44"
                        Background="#1ED760"
                        BorderThickness="0"
                        CornerRadius="22"
                        Padding="20,0"
                        ToolTipService.ToolTip="Identificar canciÃ³n">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE8D6;" FontSize="16" Foreground="Black"/>
                        <TextBlock Text="Identificar" FontSize="14" FontWeight="SemiBold" Foreground="Black"/>
                    </StackPanel>
                </Button>

                <!-- Favorite -->
                <Button Click="Favorite_Click"
                        Width="44" Height="44"
                        Background="#2A2A2A"
                        BorderThickness="0"
                        CornerRadius="22"
                        Padding="0"
                        ToolTipService.ToolTip="Favorito">
                    <FontIcon x:Name="FavoriteIcon"
                              Glyph="&#xE006;"
                              FontSize="18"
                              Foreground="#808080"/>
                </Button>
            </StackPanel>

            <!-- Row 2: Volume Control -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <FontIcon Grid.Column="0"
                          Glyph="&#xE992;" 
                          FontSize="14" 
                          Foreground="#808080" 
                          VerticalAlignment="Center"
                          Margin="0,0,8,0"/>
                <Slider x:Name="VolumeSlider"
                        Grid.Column="1"
                        Minimum="0"
                        Maximum="100"
                        VerticalAlignment="Center"/>
                <FontIcon Grid.Column="2"
                          Glyph="&#xE995;" 
                          FontSize="14" 
                          Foreground="#808080" 
                          VerticalAlignment="Center"
                          Margin="8,0,0,0"/>
            </Grid>

            <!-- Hidden elements for code compatibility -->
            <Image x:Name="AlbumArt" Visibility="Collapsed"/>
            <TextBlock x:Name="TrackTitle" Visibility="Collapsed"/>
            <TextBlock x:Name="TrackArtist" Visibility="Collapsed"/>
            <FontIcon x:Name="ShuffleIcon" Visibility="Collapsed"/>
            <FontIcon x:Name="RepeatIcon" Visibility="Collapsed"/>
        </Grid>
    </Grid>
</Window>
